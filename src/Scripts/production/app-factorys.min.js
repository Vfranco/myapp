"use strict";app.factory("Core",["$window","$http",function(r,e){var t={secretKey:"Zw~3t!D_2z7S",isEmpty:function(e){return""==e||null==e},getFieldsForm:function(e,t){return $(e).find(t)},onChange:function(e,t){$(e).on("change",t)},clearTable:function(e){if(0<$(e).children().length)return $(e).empty()},disabledButton:function(e,t){return $(e).attr("disabled",t)},signToken:function(e,t){var r=JWT.generateToken(e);return JWT.encode(r,t)},eventClickTable:function(e,t,r){return $(e).on("click",t,r)},clearList:function(e){if(0<$(e).children().length)return $(e).empty()},getTheadList:function(e,t){if(!this.isEmpty(t)&&!this.isEmpty(e)){for(var r={},n=e[0].getElementsByClassName(t),a=0;a<n.length;a++)text=n[a],r[a]=text.textContent;return r}},getTheadText:function(e){for(var t=$(e),r=[],n=0;n<t.length;n++)r.push($(t[n]).text());return r},isEmptyObject:function(e){for(var t in e)if(e.hasOwnProperty(t))return!1;return!0},isNull:function(e){return null==e},createStorage:function(e,t){return r.localStorage.setItem(e,JSON.stringify(t))},getFromStorage:function(e){return JSON.parse(r.localStorage.getItem(e))},dataSession:{}};return t}]),app.factory("Form",["Core","$http",function(i,n){var a={validate:function(e,t){for(var r=i.getFieldsForm(e,t),n=!1,a=0;a<r.length;a++){var o=$(r[a]);if(i.isEmpty(o.val())){o.focus().addClass("shake animated"),n=!0;break}if(""==$.trim(o.val())){o.val(""),o.focus().addClass("shake animated"),n=!0;break}}return n},serializeForm:function(e){for(var t={},r=$(e).serializeArray(),n=0;n<r.length;n++)t[r[n].name]=r[n].value;return t},formDataModal:function(e,t,r){var n=t;for(var a in n)n.hasOwnProperty(a)&&("value"==r?i.isEmpty(n[a])?$(e+a).val("N/A"):$(e+a).val(n[a]):i.isEmpty(n[a])?$(e+a).text("N/A"):$(e+a).text(n[a]))},resetForm:function(e){return $(e).trigger("reset")},OnSubmitForm:function(e){var t,r=!1;if(i.isEmptyObject(e))throw"Empty Object";return a.validate(e.form,e.css)?r=!0:t=n.post(e.route,a.serializeForm(e.form+e.fields)),e.clear&&a.resetForm(e.form),!!r||t},checkFormObject:function(e){var t=Object.keys(e),r=!1;if(t.length<=0)r=!0;else for(var n in t)if(console.log(e[t[n]]),"string"==typeof e[t[n]]){if(i.isEmpty(e[t[n]])){r=!0;break}}else if(null==e[t[n]]){r=!0;break}return r}};return a}]),app.service("FormBuilder",[function(){this.parking=[{label:"Nit",name:"nit_parqueaderos",placeholder:"Nit del Parqueadero",required:!0,type:"text",css:"c-field u-mb-xsmall",cssText:"NitParqueaderos"},{label:"Nombre",name:"nombre_parqueaderos",placeholder:"Nombre de la Empresa",required:!0,type:"text",css:"c-field u-mb-xsmall",cssText:"NombreParqueaderos"},{label:"Direccion",name:"dir_parqueaderos",placeholder:"Direccion de la Empresa",required:!0,type:"text",css:"c-field u-mb-xsmall",cssText:"DirParqueaderos"},{label:"Telefono",name:"telefono_parqueadero",placeholder:"Telefono de la Empresa",required:!0,type:"text",css:"c-field u-mb-xsmall",cssText:"TelefonoParqueadero"},{label:"Logo de la Empresa",name:"logo_parqueaderos",placeholder:"Slogan de la Empresa",required:!0,type:"text",css:"c-field u-mb-xsmall",cssText:"LogoParqueaderos"}],this.zonas=[{test:"zona"}],this.devices=[{label:"Nombre del Dispositivo",name:"id_android_mobile",placeholder:"Ingrese nombre",required:!0,type:"text",css:"c-field u-mb-xsmall",cssText:"SerialMobile"},{label:"IMEI",name:"serial_mobile",placeholder:"Ingrese IMEI",required:!0,type:"text",css:"c-field u-mb-xsmall",cssText:"IdAndroidMobile"}]}]),app.factory("Redirect",["$location",function(t){return{To:function(e){return t.path(e)}}}]),app.factory("Route",["$http",function(r){var e={post:function(e,t){return r.post(baseurl+e,t)}};return e}]),app.factory("Session",["$window",function(e){var t={checkSession:function(){return null==e.localStorage.getItem("sessionUser")}};return t}]),app.factory("Socket",["$rootScope",function(n){var a=io.connect("http://localhost:3000/");return{on:function(e,t){a.on(e,function(){var e=arguments;n.$apply(function(){t.apply(a,e)})})},emit:function(e,t,r){a.emit(e,t,function(){var e=arguments;n.$apply(function(){r&&r.apply(a,e)})})}}}]);